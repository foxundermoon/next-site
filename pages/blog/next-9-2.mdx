import withPost from '../../components/blog/with-post'
import Image from '../../components/image'
import { meta } from '../../blog/next-9-2-preview.mdx'
import { TerminalInput } from '../../components/text/terminal'
import Caption from '../../components/text/caption'

export const config = { amp: true }

export default withPost({ ...meta })

We are excited today to introduce the production-ready Next.js 9.2, featuring:

- **[Built-In CSS Support for Global Stylesheets](#built-in-css-support-for-global-stylesheets)**: Applications can now directly import `.css` files as global stylesheets.
- **[Built-In CSS Module Support for Component-Level Styles](#built-in-css-support-for-global-stylesheets)**: Leveraging the `.module.css` convention, locally scoped CSS can be imported and used anywhere in your application.
- **[Improved Code-Splitting Strategy](#improved-code-splitting-strategy)**: The Google Chrome team heavily optimized Next.js' code-splitting strategy, resulting in much smaller client-side bundles. Furthermore, they've maximized [HTTP/2](https://developers.google.com/web/fundamentals/performance/http2) utilization to improve page load speed without hurting HTTP/1.1 performance.
- **[Catch-All Dynamic Routes](#catch-all-dynamic-routes)**: Next.js' Dynamic Routes now support catch-all routes, supporting a variety of new use-cases, e.g. CMS-powered websites.

All of these benefits are non-breaking and fully backwards compatible. All you need to do to update is run:

<TerminalInput
  prefix
>{`npm i next@latest react@latest react-dom@latest`}</TerminalInput>

### Built-In CSS Support for Global Stylesheets

Next.js 5 introduced support for importing CSS through a custom plugin called `next-css` that add extra behavior on top of Next.js.

Over time we got consistent feedback from companies and users of Next.js that they end up adding `next-css` to their Next.js application quite often.

Furthermore, `next-css` had a few missing constraints in how you can import CSS.
For example, you could import a CSS file in every file of the project, however this imported CSS file would be global for the whole application.

In order to improve developer experience and solve these inconsistencies we started working on bringing CSS imports support to Next.js by default.

We're excited to announce that Next.js now has native support for importing stylesheets into your application.

To get started using CSS imports in your application, import the CSS file within `pages/_app.js`.

For example, consider the following stylesheet named `styles.css` in the root of your project:

```css
body {
  padding: 20px 20px 60px;
  margin: 0;
}
```

Create a [`pages/_app.js` file](https://nextjs.org/docs/advanced-features/custom-app) if not already present.
Then, import the `styles.css` file:

```jsx
import '../styles.css'

// This default export is required in a new `pages/_app.js` file.
export default function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}
```

Since stylesheets are global by nature, they must be imported in the [Custom `<App>` component](https://nextjs.org/docs/advanced-features/custom-app).
This is necessary to avoid class name and ordering conflicts for global styles.

In development, expressing stylesheets this way allows your styles to be automatically updated on the page as you edit them.

In production, all CSS files will be automatically concatenated into a single minified `.css` file.
This CSS file will be loaded via a `<link>` tag automatically injected into the default HTML markup Next.js generates.

This new feature is fully backwards compatible. If you are using `@zeit/next-css` or other CSS related plugins the feature is disabled to avoid conflicts.

If you are currently using `@zeit/next-css` we recommend removing the plugin from your `next.config.js` and moving to the built-in CSS support.

### Built-In CSS Module Support for Component-Level Styles

### Improved Code-Splitting Strategy

### Catch-All Dynamic Routes

## Community

We're very excited to see the continued growth in Next.js adoption:

- We have had over **880** independent contributors.
- On GitHub, the project has been starred over **44,000** times.
- The [examples directory](https://github.com/zeit/next.js/tree/canary/examples) has over **220 examples.**

The Next.js community on [spectrum.chat/next-js](https://spectrum.chat/next-js) now has over **13,800** members.
[Join us](https://spectrum.chat/next-js)!

We are thankful to our community and all the external feedback and contributions that helped shape this release.
